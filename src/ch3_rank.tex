\section{The Hausdorff Rank}

% Definition of the Hausdorff power
\begin{definition}
  Let $\qq$ be a class of linear orders.

  We define a class $\hh{\qq}{< \alpha}$
  for every ordinal $\alpha$ as follows:

  \begin{itemize}
    \item For $\alpha = 0$, $\hh{\qq}{< 0} = \emptyset$.
    \item For $\alpha = 1$, $\hh{\qq}{< 1} = \set{1}$.
    \item For $\alpha = \gamma + 1$ where $\gamma > 0$,
          \[\hh{\qq}{< \alpha} = \sum_{\qq}{\hh{\qq}{< \gamma}}\]
    \item For $\alpha$ a limit ordinal,
          \[\hh{\qq}{< \alpha} = \bigcup_{\beta < \alpha} \hh{\qq}{< \beta}\]
  \end{itemize}

\end{definition}

\begin{example}
  Let $\qq$ be a class of linear orders.

  Then $\hh{\qq}{\le 1} = \qq$.
\end{example}

% Definition of exact power
\begin{definition}
  Let $\qq$ be a class of linear orders.

  Let $\alpha, \beta$ be ordinals such that with $0 < \alpha < \beta$.

  We define,
  \begin{enumerate}
    \item $\hh{\qq}{\le \alpha} := \hh{\qq}{< \alpha + 1}$
    \item $\hh{\qq}{= \alpha} := \hh{\qq}{\le \alpha} \setminus \hh{\qq}{< \alpha}$
    \item $\hh{\qq}{[\alpha, \beta)} := \hh{\qq}{< \beta} \setminus \hh{\qq}{< \alpha}$
  \end{enumerate}
\end{definition}

% Definition of the Hausdorff rank
\begin{definition}
  Let $\qq$ be a class of linear orders.

  We define the $\qq$-Hausdorff rank as a \emph{partial} mapping
  from linear orders to ordinals, such that
  \[
    \hhrank{\qq}{M} = \min \set{\alpha : M \in \hh{\qq}{\le \alpha}}
  \]

  Equivalently, $\hhrank{\qq}{M}$, is the unique ordinal $\alpha$ such that
  $M \in \hh{\qq}{= \alpha}$ (if it exists, otherwise it is undefined).

\end{definition}


% Definition of $\Om$
\begin{definition}
  Let $\gamma \ge \om$ be a limit ordinal.

  We define $\Gamma_{\gamma} := \set{\beta : \beta \subseteq \gamma^\ast + \gamma}^+$.

  We define $\Om := \Gamma_{\om}$.
\end{definition}

\begin{example}
  \[
    \Om = \set{1, \om, \mo}^+
  \]
\end{example}

\begin{observation}
  Let $\gamma \ge \om$ be a limit ordinal.

  Then $\Gamma_{\gamma}$ is a monotone, additive class of linear orders.
\end{observation}


% Definition of the Hausdorff rank associated with $\om$.
\begin{notation}
  When we omit the subscript in $\ho{< \alpha}$,
  we mean $\hh{\Om}{< \alpha}$,
  and similarly for $\ho{\le \alpha}$, $\ho{= \alpha}$, $\ho{[\alpha, \beta)}$,
  and $\hrank{M}$.
\end{notation}


\section{\texorpdfstring{$\om$}{omega}-Hausdorff rank}

In this chapter, we focus on the special case of the Hausdorff rank associated with the ordinal $\om$. This case is of particular interest due to its connections with countable structures and its role in the classification of infinite linear orders. We introduce new families of classes and analyze their relationships, providing tools that will be essential for the study of types and decidability.

\begin{definition}\label{bounded-definitions}
  Let $\alpha > 0$ be an ordinal.

  We define:
  \begin{enumerate}
    \item (Right $\alpha$-Major) $\rmj{\alpha} := \rb{\ho{< \alpha}} \setminus \lb{\ho{< \alpha}}$
    \item (Left $\alpha$-Major) $\lmj{\alpha} := \lb{\ho{< \alpha}} \setminus \rb{\ho{< \alpha}}$
    \item (Bounded $\alpha$-Major) $\bmj{\alpha} := \bounded{\ho{< \alpha}} \setminus \ps{ \lb{\ho{< \alpha}} \cup \rb{\ho{< \alpha}} }$
  \end{enumerate}
\end{definition}

\begin{note}
  Obviously $\lmj{\alpha} = \rmj{\alpha}^\ast$ by symmetry.

  By~\cref{bounded-is-left-plus-right}, $\bmj{\alpha} = \lmj{\alpha} + \rmj{\alpha}$.

  Also, by the definition:
  \[
    \bounded{\ho{< \alpha}} = \ho{< \alpha} \uplus \lmj{\alpha}
    \uplus \rmj{\alpha} \uplus \bmj{\alpha}
  \]
\end{note}

\begin{lemma}\label{bounded-structure}
  Let $\alpha > 0$ be an ordinal.

  Then $\rb{\ho{< \alpha}} = \sum_{\om}{\ho{< \alpha}}$.
\end{lemma}

\begin{proof}
  ($\supseteq$) Let $M \in \sum_{\om}{\ho{< \alpha}}$ be a linear order.

  Let $M = \sum_{i \in \om} M_i$ be the decomposition of $M$,
  where $M_i \in \ho{< \alpha}$.

  Let $x, y \in M$ be any two points in $M$. WLOG $x \le y$.

  Suppose $x \in M_i$ and $y \in M_j$ for $i, j \in \om$.

  Since $i$ and $j$ have a finite distance in $\om$,
  we conclude $[x, y] \subseteq M_i + \ldots + M_j$,
  and thus $[x, y] \subseteq \ps{\ho{< \alpha}}^+ = \ho{{\alpha}}$.

  ($\subseteq$) Let $M \in \rb{\ho{< \alpha}}$ be a linear order.

  Since $M$ is countable, let $\set{x_i}_{i \in \om} M$ be a right cofinal
  $\om$-sequence in $M$.

  Let $M_0 = (-\infty, x_0]$ and and $M_i = (x_{i-1}, x_{i}]$ for $i > 0$.

  Then $M = \sum_{i \in \om} M_i$.

  But $M_i$ is a right-bounded interval and thus $M_i \in \ho{< \alpha}$, so $M \in \sum_{\om}{\ho{< \alpha}}$.
\end{proof}

An immediate corollary of~\cref{bounded-structure} is that "major" is a good name.
\begin{corollary}\label{le-alpha-corollary}
  Let $\alpha > 0$ be an ordinal.

  Then,
  \begin{enumerate}
    \item $\ho{\le \alpha} = \ps{\bounded{\ho{< \alpha}}}^+$
    \item $\ho{= \alpha} = \ps{ \lmj{\alpha} \uplus \rmj{\alpha} }^+$
  \end{enumerate}
\end{corollary}

\begin{lemma}\label{rmj-successor-decomposition}
  Let $\alpha$ be an ordinal.

  Then, we have the following:

  \[
    \rmj{\alpha + 1} = \sum_{\om}{\ho{= \alpha}}
  \]
\end{lemma}

\begin{proof}
  ($\subseteq$) Let $M \in \rmj{\alpha + 1}$.

  By~\cref{bounded-structure} and~\cref{le-alpha-corollary}
  \[
    \rb{\ho{< \alpha + 1}}
    = \sum_{\om}{\ho{< \alpha + 1}}
    = \sum_{\om}{\ho{\le \alpha}}
    = \sum_{\om}{\ps{\bounded{\ho{< \alpha}}}^+}
    = \sum_{\om}{\bounded{\ho{< \alpha}}}
  \]

  since by~\cref{bounded-definitions}, $M \in \rb{\ho{< \alpha + 1}}$,
  we conclude that $M = \sum_{i \in \om}{M_i}$ for a sequence
  $\set{M_i}_{i \in \om} \subseteq \bounded{\ho{< \alpha}}$.

  If $M_i \in \ho{= \alpha}$ held for only finitely many $i \in \om$,
  we would have $M \in \ho{\le \alpha}$, which is a contradiction
  to $M \notin \lb{\ho{< \alpha}}$.

  Thus, $M_i \in \ho{= \alpha}$ holds
  for infinitely many $i \in \om$, and thus (by adjoining $M_i \in \ho{< \alpha}$
  to the next $\ho{= \alpha}$ one) we conclude $M \in \sum_{\om}{\ho{= \alpha}}$.

  ($\supseteq$) Let $M \in \sum_{\om}{\ho{= \alpha}}$.

  Since $M \in \sum_{\om} {\ho{< \alpha + 1}}$, by~\cref{bounded-structure},
  $M \in \rb{\ho{< \alpha + 1}}$.

  By~\cref{le-alpha-corollary},
  \[
    M \in \sum_{\om}{\ho{= \alpha}}
    = \sum_{\om} \ps{ \lmj{\alpha} \uplus \rmj{\alpha} }^+
    = \sum_{\om} \ps{ \lmj{\alpha} \uplus \rmj{\alpha} }
  \]

  Suppose $M = \sum_{i \in \om}{M_i}$ where $M_i \in \set{\lmj{\alpha}, \rmj{\alpha}}$.
  By the pigeonhole principle, there are either
  infinitely many $M_i \in \lmj{\alpha}$ or infinitely many $M_i \in \rmj{\alpha}$.
  WLOG, suppose $M_i \in \rmj{\alpha}$ for infinitely many $i \in \om$.

  Then, since $M_i \in \ho{< \alpha + 1}$, we have $M_i \in \ho{= \alpha}$.

  Suppose by contradiction $M = \ho{\le \alpha} = \ps{\bounded{\ho{< \alpha}}}^+$.
  In particular, by the pigeonhole principle, there exists some $N \in \om$
  such that $\sum_{N \le i < \om} M_i \in \bounded{\ho{< \alpha}}$,
  which is a contradiction because it follows that $M_{N+1} \in \Om{< \alpha}$ as it is bounded
  between $M_N$ and $M_{N+2}$.
\end{proof}

\begin{lemma}\label{rmj-limit-decomposition}
  Let $\set{\alpha_i}_{i \in \om}$ be a strictly
  increasing ordinal sequence, and let $\alpha = \sup_{\alpha_i}$.

  Then,
  \[
    \rmj{\alpha} = \sum_{i \in \om}{\ho{[\alpha_i, \alpha)}}
  \]
\end{lemma}

\begin{proof}
  ($\subseteq$) Let $M \in \rmj{\alpha}$.
  Let ${y_i}_{i < \om}$ be a right cofinal $\om$-sequence in $M$.

  Thus we can choose some $x_0$ far enough such that $(-\infty, x_0] \in \ho{[\alpha_0, \alpha)}$,
          and $x_0 > y_0$.
          Now by induction we choose $x_1$ such that $(x_0, x_1] \in \ho{[\alpha_1, \alpha)}$,
  and $x_1 > y_1$.

  By iterating $\om$ times we get an $\om$-sequence $\set{M_i}_{i \in \om}$
  such that $M = \sum_{i \in \om} M_i$ and $M_i \in \ho{[\alpha_i, \alpha)}$,
          where $M_i = (x_{i-1}, x_i]$ (where $x_{-1} := -\infty$).


  ($\supseteq$) Let $M \in \sum_{i \in \om}{\ho{[\alpha_i, \alpha)}}$.
  It is obvious that $M \in \rb{\ho{< \alpha}}$ since every right-bounded
  ray is in $\ho{\le \alpha_i}$ for some $i \in \om$.

  However, $M \notin \ho{< \alpha_i}$ for any $i \in \om$, so $M \notin \ho{< \alpha}$.


\end{proof}

\begin{lemma}\label{rmj-decomposition}
  Let $\set{\alpha_i}_{i \in \om}$ be a non-decreasing ordinal sequence,
  and let $\alpha = \sup_{\alpha_i + 1}$.

  Then,
  \[
    \rmj{\alpha} = \sum_{i \in \om}{\ho{[\alpha_i, \alpha)}}
  \]
\end{lemma}

\begin{proof}
  It is just a way to
  write~\cref{rmj-successor-decomposition}
  and~\cref{rmj-limit-decomposition}
  together more succinctly.
\end{proof}

\begin{note}
  In the proof of~\cref{rmj-decomposition}, we actually use the fact that
  we work over $\Om = \Gamma_{\om}$. This proof would not have worked over $\Gamma_{\beta}$
  for $\beta > \om$.
\end{note}
